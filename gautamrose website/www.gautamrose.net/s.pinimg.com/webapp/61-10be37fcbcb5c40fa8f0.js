(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[61],{"0G5S":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}));var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},r=function(e){try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},a=function(e,t){try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},AXUD:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var o=412,r=429},Ncr9:function(e,t,n){"use strict";var o=n("TPPM"),r=n("XdLN"),a=n("28DW");t.a=function(e){Object(r.a)(e)||(e="/",Object(a.a)("url_reset")),Object(o.a)(e,!1)}},VL22:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));var o=n("kmwA"),r={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",LINE:"line",EMAIL:"email",OTHER:"other"},a=function(e){return e.facebook_id?r.FACEBOOK:e.google_open_id_token?r.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?r.GOOGLE:e.line_id_token?r.LINE:e.email?r.EMAIL:r.OTHER},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in o.a.settings.MINIMUM_AGE_BY_EU_COUNTRY},c=function(e){return o.a.settings.EN_COUNTRIES_WITH_MANDATORY_AGE.includes(e)||o.a.settings.LATAM_AGE_COLLECTION.has(e)}},dish:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var o=n("QLqj"),r=function(){return o.b.localStorage.getItem("uoiou")||!1},a=function(e){o.b.localStorage.setItem("uoiou",!!e)}},kJuv:function(e,t,n){"use strict";var o=n("gxu6"),r=n("eOdZ"),a=n("QLqj"),i=n("kmwA"),c=n("ARZW"),s=n("J8m7"),u=n("sv3x"),l=n("AXUD"),_=n("dish"),d=n("OX7c"),f=n("28DW"),g=n("AYc3"),b=n("2y2F"),p=n("yM2L");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r="referrer_unknown";try{var a=document.referrer;r=a?a.indexOf("/t.co/")>-1?"twitter":a.indexOf("google.")>-1?"google":a.indexOf("bing.")>-1?"bing":a.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(h){}var i=Object(u.c)(e),s=t===Object(t)?t.hybridTier:"tier_unknown",l=t===Object(t)?t.container:"container_unknown";Object(f.a)("login.referrer."+r+"."+i),Object(f.a)("login.container."+l+"."+i),Object(f.a)("login.type."+i);var _=Object(u.c)(e)||"method_unknown",d=t.page||"page_unknown";e.gplus_autologin?o?(Object(f.a)("mweb_autologin.google_success"),Object(f.l)("new_mweb_autologin_google",{page:d,referrer:r,container:l,hybridTier:s})):(Object(f.a)("web_autologin_google"),Object(f.l)("new_web_autologin_google",{page:d,referrer:r,container:l,hybridTier:s})):e.facebook_autologin?(Object(f.a)("web_autologin_facebook"),Object(f.l)("new_web_autologin_facebook",{page:d,referrer:r,container:l,hybridTier:s})):(Object(f.a)("web_login.".concat(_,".success.").concat(d,".").concat(l,".").concat(r,".").concat(s)),Object(f.l)("new_web_login.".concat(_,".success"),{page:d,referrer:r,container:l,hybridTier:s})),Object(b.a)(n)&&Object(g.g)({id:c.b,eventCategory:"Logins",eventName:"Desktop"}),Object(b.f)(n)&&Object(g.k)({id:"flashtalking-d-login",eventCategory:"Logins",eventName:"Desktop"}),Object(b.c)(n)&&Object(g.h)({pixelId:"dpm_pixel_login_event",eventCategory:"Logins",eventName:"Desktop"}),Object(b.d)(n)&&Object(g.i)({pixelId:"dentsu_pixel_login_event",eventCategory:"Logins",eventName:"Desktop"});var p=e.facebook_autologin||e.gplus_autologin||e.autologin?"autologin":"login";Object(f.g)({action:p,event:"success",type:i})},v=function(e,t){Object(f.a)("web_cross_domain_login.".concat(e,".").concat(Object(u.c)(t)))},w=function(e){return!e.mfa_resend&&!!e.username_or_email},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"other",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var r=e.http_status===l.b?l.b:e.api_error_code,a=r;s.b.has(r)&&(a=s.b.get(r));var i=t.container;o?Object(f.a)("unauth_web_client_cctld_login_api_error.".concat(String(a),".").concat(i||"unknow_container",".").concat(n)):Object(f.a)("unauth_web_client_login_api_error.".concat(String(a),".").concat(i||"unknow_container",".").concat(n)),Object(f.g)({action:"login",event:"fail",type:n})}},j=function(e,t,n,o){v("attempt",e);var r=o.referrer,a=o.facebookToken,i=o.unauthId;return Object(p.loginUser)(e,{recaptchaV3Token:t,referrer:r,facebookToken:a,unauthId:i}).then((function(t){if(t&&t.data){v("success_with_token",e);var o=t.data;return Object(p.exchangeTokenAndSetSession)(o).then((function(t){return v("success_token_exchanged",e),k(e,n),Promise.resolve()}),(function(t){throw v("success_token_not_exchanged",e),t}))}throw v("success_without_token",e),new Error}),(function(t){throw v("failure",e),E(t,n,Object(u.c)(e),!0),t}))};t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,f=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(w(e)){var g=i.a.settings.CORS_HANDSHAKE_DOMAINS;if(-1!==g.indexOf(t.origin))return j(e,l,n,t)}var b=c?null:a.b.localStorage.getItem("visitedPagesBeforeLogin"),p=O(O({},e),{},{get_user:e.get_user||e.switch_account&&c,app_type_from_client:7===t.appType?7:5,visited_pages_before_login:b?JSON.stringify(b):null,recaptchaV2Token:s,recaptchaV3Token:l}),h=r.a.create("UserSessionResource",p),m={showError:!1,async:!0};return h.callCreate(m).then((function(t){var r=(t||{}).client_context||{},a=r.country,i=r.active_experiments;return k(e,n,a,f),Object(_.b)(!1),i&&i.web_cctld_cookies_cleanup&&"enabled"===i.web_cctld_cookies_cleanup&&(o.c("fba"),o.c("logged_out")),Object(d.a)("login").then((function(){return t}))}),(function(t){return E(t,n,Object(u.c)(e)),Promise.reject(t)}))}},sv3x:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return j}));var o=n("gxu6"),r=n("GI6b"),a=n("Jr++"),i=n("Ncr9"),c=n("eOdZ"),s=n("QLqj"),u=n("kmwA"),l=n("28DW"),_=n("AXUD"),d=n("VL22"),f=n("J8m7"),g=n("nKUr");function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var h,O=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6}),m=[f.f,f.e,f.G,f.A,f.t,f.v,_.b],k=([].concat(m,[f.p,f.q,f.z,f.o,f.A]),m.filter((function(e){return e!==f.t&&e!==f.A}))),v=[].concat(function(e){if(Array.isArray(e))return p(e)}(h=k)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(h)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[f.o,f.r]),w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,d;return t=e,d=[{key:"defaultLoginRedirectUrl",value:function(){return window.location.pathname===u.a.settings.PASSWORD_RESET_URL||window.location.pathname===u.a.settings.LOGIN_URL||window.location.pathname.startsWith(u.a.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname+window.location.search}},{key:"defaultSocialLoginRedirectUrl",value:function(){return window.location.pathname.startsWith(u.a.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname}},{key:"isExceedRecaptchaLocalLimit",value:function(){var e=s.b.localStorage.getItem("urh");if(e&&e.indexOf("|")>-1){var t=e.split("|");return 3===t.length&&(new Date).getTime()/1e3-parseInt(t[0],10)<=3600}return!1}},{key:"updateRecaptchaTimeStamp",value:function(){var e=s.b.localStorage.getItem("urh"),t=[];e&&3===(t=e.split("|")).length&&t.shift();var n=((new Date).getTime()/1e3).toString();t.push(n);var o=t.join("|");s.b.localStorage.setItem("urh",o)}},{key:"isFullyLoggedIn",value:function(e,t){return e&&1===t}},{key:"handleRedirect",value:function(e){if(!e){e="/";var t=Object(a.a)();if(t){var n=t.next;n&&(e=n,delete t.next),e=Object(r.a)(e,t)}}Object(i.a)(e)}},{key:"handleRedirectWithFallbackWindowLocation",value:function(){this.handleRedirect(this.defaultLoginRedirectUrl())}},{key:"handleSignupRedirect",value:function(t,n){s.b.localStorage.setItem("signupTime",Date.now()),!n&&t&&"/"!==t?e.handleRedirect(t):e.handleRedirect("/")}},{key:"storeLoginCredentialsToBrowser",value:function(e){if(navigator.credentials&&e.username_or_email)try{var t=new window.PasswordCredential({id:e.username_or_email,password:e.password});navigator.credentials.store(t).then((function(){Object(l.a)("navigatorCredentials.store.success")}))}catch(n){Object(l.a)("navigatorCredentials.store.error")}}},{key:"retrieveLoginCredentialsFromBrowser",value:function(){var e=window.navigator.credentials;return e?e.get({password:!0,mediation:"silent"}):new Promise((function(e,t){t()}))}},{key:"attemptLoginWithBrowserCredentials",value:function(e,t,n){return e?(e.password?(r="include",(o=new FormData).append("username",e.id),o.append("password",e.password)):r=e,fetch("/resource/UserSessionResource/create/",{method:"POST",body:o,credentials:r,headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":t||"","X-Pinterest-AppState":n,"X-Requested-With":"XMLHttpRequest"}}).then((function(e){if(200!==e.status){var t=new Error(e.statusText);throw t.response=e,t}return Object(l.a)("navigatorCredentials.login.success"),e.json()})).catch((function(e){return Object(l.a)("navigatorCredentials.login.failure"),Promise.reject(e)}))):new Promise((function(e,t){t("No credentials")}));var o,r}},{key:"fetchRecentlyLoggedOutUser",value:function(e){if(e)return Promise.reject();var t=c.a.create("UnauthUserDataResource");return new Promise((function(e,n){t.callGet().then((function(t){var r=t.resource_response.data,a=!!o.a("logged_out");return r?(r.connected_to_facebook||r.connected_to_google||r.has_password||Object(l.a)("unauth.personalized_login.no_login_methods_found"),Object(l.a)("unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_".concat(a?"true":"false")),e(r)):(Object(l.a)("unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_".concat(a?"true":"false")),n({}))})).catch((function(e){if(e.message){var t=e.message.replace(/\s/g,"_").toLowerCase();Object(l.a)("unauth.personalized_login.fetch_user_info.error.".concat(t))}else Object(l.a)("unauth.personalized_login.fetch_user_info.error.unknown");return n(e)}))}))}},{key:"handleLoginMfa",value:function(t,n,o){Object(l.a)("multi_step_login"),e.storeLoginCredentialsToBrowser(t),o?o(t,n):Object(l.a)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}},{key:"getLoginErrorState",value:function(e,t,n,o,r){var a,i=null,c=e.http_status||e.httpStatus,s=e.api_error_code||e.apiErrorCode;if(c===_.b&&(s=_.b),a=v.includes(s)?Object(g.jsx)(o,{api_error_code:s,errorMessage:e.message,handleTouch:function(){return r(O.PASSWORD_RESET_SENT)},source:t,userSearch:n}):e.message)switch(s){case f.o:case f.t:i={passwordValidationError:a};break;case f.p:i={facebookValidationError:a};break;case f.q:i={googleValidationError:a};break;case f.n:i={emailValidationError:a};break;case f.j:i={passwordValidationError:a};break;default:i={emailValidationError:a}}else Object(l.a)("unauth.login.error.SERVER_ERROR.unknown.".concat(s,".").concat(t));return i}}],(n=null)&&b(t.prototype,n),d&&b(t,d),e}();function E(e){return e.facebook_id?d.a.FACEBOOK:e.google_open_id_token?d.a.GOOGLE_ONE_TAP:e.gplus_id_token?d.a.GOOGLE:e.line_id_token?d.a.LINE:e.username_or_email?d.a.EMAIL:d.a.OTHER}function j(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":E(e)}t.b=w},yM2L:function(e,t,n){"use strict";n.r(t),n.d(t,"exchangeTokenAndSetSession",(function(){return l})),n.d(t,"verifyLoggedInStatus",(function(){return _})),n.d(t,"registerUser",(function(){return d})),n.d(t,"loginUser",(function(){return f}));var o=n("T0g9"),r=n("eOdZ"),a=n("kmwA"),i=n("28DW"),c=n("J8m7"),s=a.a.settings.ACCOUNTS_PINTEREST_URL,u=function(e,t,n,o){var r=function(e){var t=new Error(e.statusText);throw t.response=e,!t.api_error_code&&t.response&&(t.api_error_code=t.response.code,t.message=t.response.message),t},a={credentials:"include",mode:"cors"};return"POST"===n&&(a.method="POST",a.body=t,a.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":o},o||Object(i.a)("unauth.auth_handshake.cross_domain.no_unauth_id.".concat(n))),fetch(e,a).then((function(e){return 200===e.status||401===e.status||409===e.status?e:(r(e),{})})).then((function(e){return e.json()})).then((function(e){return"success"===e.status?Promise.resolve(e):e.code===c.w?(e.api_error_code=e.code,Promise.reject(e)):(r(e),{})})).catch((function(e){throw e}))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate()},_=function(e){u("".concat(s,"/v3/handshake/verify/"),"","GET",e).then((function(e){if(e&&e.data){var t=e.data;l(t).then((function(e){window.location.reload()}),(function(e){}))}}),(function(e){}))},d=function(e,t){var n=t.facebookToken,r=t.inviteCode,i=t.locale,c=t.referrer,s=t.unauthId,l=(e.business_name?"partner/handshake":(e.gplus_code||e.gplus_id_token)&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"email/handshake",_={};if(_.email=e.email||"",_.username=e.username||"",_.password=e.password||"",_.first_name=e.first_name||"",_.last_name=e.last_name||"",_.country=e.country||"",_.locale=i,_.referrer=c,e.age){var d=new Date;d.setFullYear(d.getFullYear()-e.age);var f=parseInt(d/1e3,10);_.birthday=f.toString()}if(e.custom_gender&&(_.custom_gender=e.custom_gender),e.gender&&(_.gender=e.gender),e.business_name&&(_.account_type=e.account_type,_.business_name=e.business_name,_.first_name=e.business_name),r&&(_.invite_code=r),e.facebook_id){var g=n||e.facebook_token||"";_.facebook_id=e.facebook_id,_.facebook_token=g,_.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(_.password=e.password||"",_.one_time_code=e.gplus_code,_.id_token=e.gplus_id_token,_.redirect_uri=e.gplus_redirect_uri);return e.recaptchaV3Token&&(_.recaptcha_v3_token=e.recaptchaV3Token),u("".concat(a.a.settings.ACCOUNTS_PINTEREST_URL,"/v3/register/").concat(l,"/"),Object(o.a)(_),"POST",s)},f=function(e,t){var n=t.facebookToken,r=t.recaptchaV3Token,i=t.referrer,c=t.unauthId,s=(e.mfa_token?"mfa/handshake":e.gplus_id_token&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"handshake",l={};if(e.username_or_email&&(l.username_or_email=e.username_or_email.trim(),l.password=e.password,l.referrer=i),e.facebook_id){var _=n||e.facebook_token||"";l.facebook_id=e.facebook_id,l.facebook_token=_,l.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(l.gplus_id_token=e.gplus_id_token,l.gplus_access_token=e.gplus_access_token,l.gplus_expires_at=e.gplus_expires_at,l.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(l.mfa_token=e.mfa_token),r&&(l.token=r),u("".concat(a.a.settings.ACCOUNTS_PINTEREST_URL,"/v3/login/").concat(s,"/"),Object(o.a)(l),"POST",c)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/61-10be37fcbcb5c40fa8f0.js.map