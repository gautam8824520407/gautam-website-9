(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[322],{"37no":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var o=n("7w6Q"),i=20,r=100,a=.01,c=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2,GSI:3});function u(e){return new Promise((function(t,n){if(document.querySelector('script[src="'.concat(e,'"]')))t();else{var o=document.createElement("script");o.src=e,o.async=!0,o.addEventListener("load",t),o.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(o)}}))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.OTHER,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=n?"web":"mweb";return new Promise((function(n,l){if(document.querySelector('script[src="'.concat(e,'"]'))){var s=0;if(t===c.GPLUS_ONE)if(window.gapi)n();else var p=setInterval((function(){window.gapi||s===i?(clearInterval(p),n()):(s+=1,o.a.increment("".concat(u,".loadScript.gplus_one.tries_").concat(s),a))}),r);else if(t===c.FACEBOOK)if(window.FB)n();else var g=setInterval((function(){window.FB||s===i?(clearInterval(g),n()):(s+=1,o.a.increment("".concat(u,".loadScript.facebook.tries_").concat(s),a))}),r);else if(t===c.GSI)if(window.google)n();else var f=setInterval((function(){window.google||s===i?(clearInterval(f),n()):(s+=1,o.a.increment("".concat(u,".loadScript.gsi.tries_").concat(s),a))}),r);else n()}else{var d=document.createElement("script");d.src=e,d.async=!0,d.addEventListener("load",n),d.addEventListener("error",l),document.getElementsByTagName("head")[0].appendChild(d)}}))}},EC51:function(e,t,n){"use strict";var o=n("q1tI"),i=n("zwad"),r=n("n6mq"),a=n("gqRH"),c=n("nKUr"),u=Object(o.forwardRef)((function(e,t){var n=e.accessibilityLabel,o=e.children,u=e.forceTarget,l=e.hoverStyle,s=e.href,p=e.id,g=e.inline,f=e.onBlur,d=e.onClick,b=e.onFocus,h=e.rel,y=e.target,_=i.a.isOffsiteUrl(s);return Object(c.jsx)(a.a,{href:s,target:!u&&_?null:y,children:function(e){var i=e.handleClick;return Object(c.jsx)(r.C,{accessibilityLabel:n,hoverStyle:l,href:s,id:p,inline:g,onBlur:f,onClick:function(e){var t=e.event;(0,e.disableOnNavigation)(),null==d||d({event:t}),i({event:t})},onFocus:b,ref:t,rel:_?"nofollow":h,target:u?y:null,children:o})}})}));u.displayName="Link",t.a=u},JqDr:function(e,t,n){"use strict";var o=n("gxu6"),i=n("mwIZ"),r=n.n(i),a=n("eOdZ"),c=n("QLqj"),u=n("VL22"),l=n("RNo4"),s=n("OX7c"),p=n("J8m7"),g=n("yM2L"),f=n("28DW");function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw r}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=0;t.a=function e(t,n){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),b=n.onCorsHandshakeHost,O=n.registerUserContext,m=n.sendActiveUserPing,v=n.successWithoutTokenErrorMessage,j=c.b.localStorage.getItem("visitedPages"),w=r()(window,["location","search"],null),S=Object(l.k)(w).utm_campaign;j&&(i.visited_pages=JSON.stringify(j)),S&&(i.utm_campaign=S);var k,T=c.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin");if(T){var C,x=[],E=d(T);try{for(E.s();!(C=E.n()).done;){var P=C.value;P.is_shared_pin&&x.push({ts:P.ts,path:P.path,first_pin_image_signature:P.image_signature,is_shared:!0})}}catch(I){E.e(I)}finally{E.f()}x&&(i.visited_pages=JSON.stringify(x.concat(j||[])))}i.user_behavior_data=(k={},["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"].forEach((function(e){var t=c.b.localStorage.getItem(e);t&&(k[e]=t)})),JSON.stringify(k));var A=function(e){return Object(s.a)("signup"),o.c("galae"),o.c("fbalae"),m(),o.b("ujr","1"),function(e,t){var n,o=t.logContextEventType,i=t.trackRegisterSuccess;switch(e.container){case"home_page":n=1750,Object(f.j)("signup_home_page");break;case"mweb_homepage":n=1750,Object(f.j)("signup_mweb_home_page");break;case"plain_signup_modal":n=1751,Object(f.j)("signup_plain_modal");break;case"closeup_signup_modal":n=1752,Object(f.j)("signup_closeup_modal");break;case"widescreen_signup_modal":n=1753,Object(f.j)("signup_widescreen_modal");break;case"pinit_button_landing":n=1755,Object(f.j)("signup_pinit_button_landing");break;case"inspired_banner":Object(f.j)("signup_inspired_banner");break;case"category_jump_banner":Object(f.j)("signup_category_jump_banner");break;case"send_pin_banner":n=1756,Object(f.j)("send_pin_banner");break;default:n=1754,Object(f.j)("signup_unknown_placement")}var r=e.container||"container_unknown";Object(f.j)("signup.container.".concat(r));var a=e.signupSource||"signupSource_unknown";Object(f.j)("signup.source.".concat(a)),n&&o(n);var c,l=document.referrer;c=l?l.indexOf("/t.co/")>-1?"twitter":l.indexOf("google.")>-1?"google":l.indexOf("bing.")>-1?"bing":l.indexOf("facebook.")>-1?"facebook":"other":"direct",Object(f.j)("signup_referrer.".concat(c)),i(),Object(f.j)("web_signup.".concat(Object(u.b)(e),".success.").concat(e.page||"page_unknown",".").concat(r,".").concat(c,".").concat(e.hybridTier||"tier_unknown")),Object(f.g)({action:"signup",event:"success",type:Object(u.b)(e)})}(i,n),e},L=function(t){if(t.api_error_code===p.d&&(Object(f.j)("multi_step_set_age_restrict_cookie"),o.b("r_r","1",4320)),(!t.api_error_code||[p.h,p.g].includes(t.api_error_code))&&_<3)return Object(f.j)("unauth_web.signup_retry_error.".concat(String(t.api_error_code),".").concat(String(i.container))),_+=1,e(i,n);throw Object(f.g)({action:"signup",event:"fail",type:Object(u.b)(i)}),t};if(!i.facebook_id&&!i.gplus_code&&!i.gplus_id_token&&!i.google_open_id_token&&!i.line_id_token&&Boolean(i.email)&&b){Object(f.j)("unauth_cross_domain_register_debugging_counter");var D=function(e){Object(f.j)("web_cross_domain_register.".concat(e,".").concat(Object(u.b)(i)))};return D("attempt"),Object(g.registerUser)(i,O).then((function(e){A(e);var t=e.data||"";if(t)return D("success_with_token"),Object(g.exchangeTokenAndSetSession)(t,!0).then((function(e){D("success_token_exchanged")}),(function(e){throw D("success_token_not_exchanged"),e}));throw D("success_without_token"),new Error(v)}),(function(e){D("failure"),L(e)}))}return a.a.create("UserRegisterResource",i).callCreate().then((function(e){return A(e)}),(function(e){return L(e)}))}},LT60:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var o=n("d2Eh"),i=n("nKUr"),r=function(){},a=function(e){e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function c(e){var t=e.allowClickAndDrag,n=e.allowEsc,c=e.allowMediaPlay,u=e.allowScroll,l=e.children,s=function(e){return function(e,t){t&&e.keyCode===o.a.ESCAPE||a(e)}(e,n)};return Object(i.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:r,onCanPlay:c?r:a,onCanPlayThrough:a,onChange:a,onClick:t?r:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:r,onInput:a,onInvalid:a,onKeyDown:s,onKeyPress:s,onKeyUp:s,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:t?r:a,onMouseOut:a,onMouseOver:a,onMouseUp:t?r:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:u?r:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:t?r:a,onTouchMove:t?r:a,onTouchStart:t?r:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:l})}},OCob:function(e,t,n){"use strict";var o=n("+NLT");t.a=function(){return{referrer:o.a.instance.referrer,facebookToken:o.a.instance.facebook_token,unauthId:o.a.instance.unauth_id,origin:o.a.instance.origin,appType:o.a.instance.app_type_detailed}}},TbPR:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),i=n("/MKj"),r=n("gxu6"),a=n("PioT"),c=n("OCob"),u=function(){return r.a("fba")},l=n("37no"),s=n("kJuv"),p=n("sv3x"),g=n("vjiL"),f=n("s8BS"),d=n("kmwA"),b=n("xkL+"),h=n("zRck"),y=n("HU+g"),_=n("U4JR"),O=n("EC51"),m=n("28DW"),v=n("yweb"),j=n("n6mq"),w=n("nKUr");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(r,e);var t,n,o,i=P(r);function r(){var e;C(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return I(L(e=i.call.apply(i,[this].concat(n))),"state",{animationMinHeight:-1,showRegisterRequestLoading:!1}),I(L(e),"mountStyle",(function(){return e.setState({showRegisterRequestLoading:!0})})),I(L(e),"requestAnimationFrameId",null),I(L(e),"handleLoginButtonClick",(function(t){var n=t.event;Object(m.a)("unauth.google_one_tap.confirmation_dialog.".concat(e.props.loggingId,".login_click")),e.clearDelayedSignupTimeout(),n&&(n.preventDefault(),n.stopPropagation()),e.props.handleLogin()})),e}return t=r,(n=[{key:"componentDidMount",value:function(){var e=this,t=1e3*this.props.signupDelay;this.delayedSignupTimeoutId=window.setTimeout((function(){Object(m.a)("unauth.google_one_tap.confirmation_dialog.".concat(e.props.loggingId,".signup_delay_timer_reached")),e.requestAnimationFrameId=window.requestAnimationFrame(e.mountStyle),e.props.handleSignup()}),t)}},{key:"componentWillUnmount",value:function(){this.clearDelayedSignupTimeout(),this.cancelAnimationFrame()}},{key:"clearDelayedSignupTimeout",value:function(){this.delayedSignupTimeoutId&&window.clearTimeout(this.delayedSignupTimeoutId)}},{key:"cancelAnimationFrame",value:function(){this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}},{key:"render",value:function(){var e,t=this,n=this.state,o=n.animationMinHeight,i=n.showRegisterRequestLoading,r={transitionProperty:"min-height",transitionDuration:"500ms",transitionTimingFunction:"ease-in-out"};if(o>=0){var a=o;i&&(a=0),Object.assign({},r,{minHeight:(e=a,e+"px")})}return Object(w.jsx)(j.f,{ref:function(e){!e||t.state.showRegisterRequestLoading||t.state.animationMinHeight>0||t.setState({animationMinHeight:e.clientHeight})},dangerouslySetInlineStyle:{__style:r},children:Object(w.jsxs)(j.u,{alignItems:"center",direction:"column",flex:"grow",justifyContent:"center",children:[Object(w.jsx)(j.f,{children:Object(w.jsx)(j.cb,{align:"center",weight:"bold",children:Object(w.jsx)("span",{className:"deprecatedTextSizeXL",children:i?this.props.i18n._("Finishing up...","Title of a dialog telling the user that an account is almost done being created.","Title of a dialog telling the user that an account is almost done being created."):this.props.i18n._("Creating your account...","Title of a dialog telling the user that an account is being created.","Title of a dialog telling the user that an account is being created.")})})}),Object(w.jsx)(j.f,{paddingY:4,children:Object(w.jsx)(j.U,{accessibilityLabel:this.props.i18n._("Account is being created","Accessibility label for account creation loading dialog","Accessibility label for account creation loading dialog"),show:!0})}),i?null:Object(w.jsx)(j.f,{marginTop:2,children:Object(w.jsx)(j.cb,{inline:!0,align:"center",children:this.props.i18n._("Didn’t mean to create a new account?","Description text telling the user that they can log in if they did not intend to create a new account","Description text telling the user that they can log in if they did not intend to create a new account")})}),i?null:Object(w.jsx)(j.f,{children:Object(w.jsx)(j.cb,{inline:!0,align:"center",children:Object(w.jsx)(O.a,{inline:!0,href:"/login",onClick:this.handleLoginButtonClick,children:this.props.i18n._("Click here to log in.","Login button which will show the login modal and enable the user to log in","Login button which will show the login modal and enable the user to log in")})})})]})})}}])&&x(t.prototype,n),o&&x(t,o),r}(o.Component);var N=function(e){var t=Object(v.c)();return Object(w.jsx)(R,T(T({},e),{},{i18n:t}))},M=n("b7nI"),G=n("WR05"),U=n("pLLR");function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=V(e);if(t){var i=V(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q="delayedSignupLoadingSpinner",Y="staticSignupLogin",$="staticSignupLoginWithTOS",ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(r,e);var t,n,o,i=K(r);function r(){var e;W(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return X(Z(e=i.call.apply(i,[this].concat(n))),"handleCancelClick",(function(){e.trackScopedAction("cancel.click"),Object(_.b)(101,{element:73,view:10,viewParameter:3202}),e.props.handleCancelClick()})),X(Z(e),"handleConfirmSignup",(function(){e.trackScopedAction("confirm.click"),Object(_.b)(101,{element:31,view:10,viewParameter:3202}),e.props.handleConfirmSignup(!1)})),X(Z(e),"handleConfirmSignupWithSpinner",(function(){e.trackScopedAction("confirm.click"),Object(_.b)(101,{element:31,view:10,viewParameter:3202}),e.props.handleConfirmSignup(!0)})),X(Z(e),"handleShowLogin",(function(){e.trackScopedAction("login.click"),Object(_.b)(101,{element:30,view:10,viewParameter:3202}),e.props.handleShowLogin()})),e}return t=r,(n=[{key:"componentDidMount",value:function(){Object(_.b)(120,{viewParameter:3202}),this.disableBackgroundScrolling(),this.trackScopedAction("shown")}},{key:"componentWillUnmount",value:function(){this.enableBackgroundScrolling()}},{key:"trackScopedAction",value:function(e){Object(m.a)("unauth.google_one_tap.confirmation_dialog.".concat(this.props.step,".").concat(e))}},{key:"disableBackgroundScrolling",value:function(){document.body&&(document.body.style.overflow="hidden")}},{key:"enableBackgroundScrolling",value:function(){document.body&&(document.body.style.overflow="")}},{key:"renderDelayedSignupConfirmation",value:function(e){var t=this;return Object(w.jsx)(N,{signupDelay:e,handleLogin:this.handleShowLogin,handleSignup:function(){t.handleConfirmSignup()},loggingId:Q})}},{key:"renderContentInModalContainer",value:function(e){var t=this.props,n=t.layoutStyle,o=t.loading;return"top"===n?Object(w.jsx)(j.f,{bottom:!0,left:!0,opacity:1,position:"fixed",right:!0,top:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1e3}},children:Object(w.jsxs)(j.f,{color:"white",direction:"column",display:"flex",margin:6,padding:7,position:"fixed",right:!0,rounding:2,top:!0,width:376,children:[o?Object(w.jsx)(M.a,{}):null,e]})}):Object(w.jsx)(j.f,{bottom:!0,left:!0,opacity:1,position:"fixed",right:!0,top:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1e3}},children:Object(w.jsxs)(j.f,{bottom:!0,color:"white",direction:"column",display:"flex",height:168,padding:7,position:"fixed",width:"100%",children:[o?Object(w.jsx)(M.a,{}):null,e]})})}},{key:"renderStaticSignupLoginConfirmation",value:function(e){var t=this.props.country;return Object(w.jsxs)(j.f,{children:[Object(w.jsx)(j.f,{display:"inlineBlock",position:"absolute",top:!0,right:!0,marginTop:2,marginEnd:2,children:Object(w.jsx)(j.x,{accessibilityLabel:this.props.i18n._("Cancel","Button to close the signup/login modal","Button to close the signup/login modal"),icon:"cancel",onClick:this.handleCancelClick,size:"sm"})}),Object(w.jsx)(j.cb,{align:"start",weight:"bold",children:Object(w.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._("Continue to Pinterest","Title of a dialog telling enabling the user to continue with sign up or log in","Title of a dialog telling enabling the user to continue with sign up or log in")})}),Object(w.jsx)(j.f,{marginTop:2,children:Object(w.jsx)(j.cb,{align:"start",children:this.props.i18n._("Hmm, it looks like you don't have an account yet. Let's get started!","Description text of a dialog asking the user to sign up for a Pinterest account","Description text of a dialog asking the user to sign up for a Pinterest account")})}),Object(w.jsx)(j.f,{marginTop:5,children:Object(w.jsx)(j.g,{fullWidth:!0,color:"red",onClick:this.handleConfirmSignupWithSpinner,text:this.props.i18n._("Sign up","Text on a button which will create an account when clicked","Text on a button which will create an account when clicked")})}),Object(w.jsx)(j.f,{marginTop:2,children:Object(w.jsx)(j.g,{fullWidth:!0,color:"gray",onClick:this.handleShowLogin,text:this.props.i18n._("Log in using a different method","Text on a button which will take the user to login when clicked.","Text on a button which will take the user to login when clicked.")})}),e?Object(w.jsx)(j.f,{marginTop:4,marginStart:4,marginEnd:4,children:Object(w.jsx)(G.a,{country:t,dark:!0})}):null]})}},{key:"render",value:function(){if(this.props.shouldHide)return null;var e=null;return this.props.step===Q?e=this.renderDelayedSignupConfirmation(this.props.delayedSignupLoadingSpinnerDuration):this.props.step===Y?e=this.renderStaticSignupLoginConfirmation(!1):this.props.step===$&&(e=this.renderStaticSignupLoginConfirmation(!0)),this.renderContentInModalContainer(e)}}])&&q(t.prototype,n),o&&q(t,o),r}(o.Component);function te(e){var t=Object(v.c)(),n=Object(U.d)().country;return Object(w.jsx)(ee,F(F({},e),{},{country:n,i18n:t}))}var ne=n("J8m7"),oe=n("VL22"),ie=n("h7e3"),re=n("QAzJ"),ae=n("4NNh"),ce=n("iMWs");function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=he(e);if(t){var i=he(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return de(this,n)}}function de(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?be(e):t}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(b,e);var t,n,o,i=fe(b);function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),ye(be(t=i.call(this,e)),"annotateOneTapStopwatch",(function(e){return Object(ie.b)("google_autologin",e)})),ye(be(t),"abortOneTapStopwatch",(function(e){return Object(ie.a)("google_autologin",e)})),ye(be(t),"stopOneTapStopwatch",(function(){return Object(ie.d)("google_autologin")})),ye(be(t),"onRetrieveCredentialsSuccess",(function(e){var n=e.credential,o=e.select_by;t.showLoading(),t.trackGoogleOneTapAction("success");var i={google_open_id_token:n,autologin:"auto"===o},r=i.autologin?"autologin":"login",a=o.includes("btn")?"gsi_btn":o.includes("user")?"onetap_btn":"other",c="onetap_btn"===a?4:3;Object(m.g)({action:r,event:"attempt",type:"google_one_tap",trigger:a}),t.login(i).then((function(e){t.onLoginSuccess(e),t.trackSignupLoginEvent(7536,c)}),(function(e){t.onLoginFailure(i,o,e),t.trackSignupLoginEvent(7535,c)})),t.trackSignupLoginEvent(7534,c)})),ye(be(t),"onLoginSuccess",(function(){var e=t.props.nextUrl;t.trackGoogleOneTapAction("login.success"),e?p.b.handleRedirect(e):p.b.handleRedirectWithFallbackWindowLocation()})),ye(be(t),"onLoginFailure",(function(e,n,o){var i=t.props,r=i.handleLoginError,a=i.handle2FALogin;t.hideLoading();var c=o&&o.api_error_code||0;if(t.trackGoogleOneTapAction("login.error.".concat(c)),c===ne.y)"btn"===n?(t.setState({googleOpenId:e.google_open_id_token}),t.attemptSignup(!1,!0)):t.showConfirmationDialog(e);else if(c===ne.w)a({gplus_id_token:e.google_open_id_token});else if(c===ne.A)t.setState({showAccountSuspended:!0});else{var u=t.props.i18n._("We couldn’t log you in with that account. Try the Google button!");Object(y.a)(u),r(o)}})),ye(be(t),"onSignupSuccess",(function(e,n,o){t.trackGoogleOneTapAction("signup.success"),t.trackSignupLoginEvent(7487,n),Object(m.g)({action:"signup",event:"success",type:"google_one_tap",trigger:e}),p.b.handleSignupRedirect("/")})),ye(be(t),"onSignupFailure",(function(e,n,o){var i=o&&o.api_error_code||0;t.trackGoogleOneTapAction("signup.error.".concat(i)),Object(m.g)({action:"signup",event:"fail",type:"google_one_tap",trigger:e}),t.trackSignupLoginEvent(7488,n),t.hideLoading(),t.hideConfirmationDialog();var r=t.props.i18n._("We couldn’t sign you up with that account. Try the Google button!");Object(y.a)(r),t.props.handleSignupError()})),ye(be(t),"trackGoogleOneTapAction",(function(e){Object(m.j)("unauth.google_one_tap.".concat(e))})),ye(be(t),"handleCancelOneTap",(function(){t.hideConfirmationDialog()})),ye(be(t),"attemptSignup",(function(e,n){var o=t.props,i=o.handleSignupConfirmed,r=o.pageContext,a=o.requestContext;e&&t.showLoading();var c=t.state.googleOpenId,u=Object(ae.b)(c),l={google_open_id_token:c,first_name:u.given_name,last_name:u.family_name,image_url:u.picture,container:h.g,hybridTier:null==r?void 0:r.hybridTier,page:null==r?void 0:r.pageType};if(i&&Object(oe.d)(a.country))i(oe.a.GOOGLE_ONE_TAP,{},l);else{var s=n?"onetap_btn":"gsi_btn",p=n?4:3;Object(m.g)({action:"signup",event:"attempt",type:"google_one_tap",trigger:s}),Object(g.a)(t.props.i18n)(l).then((function(e){t.onSignupSuccess(s,p,e)}),(function(e){t.onSignupFailure(s,p,e)})),t.trackSignupLoginEvent(7537,p)}})),ye(be(t),"renderGoogleConfirmationDialog",(function(e,n){return Object(w.jsx)(te,{delayedSignupLoadingSpinnerDuration:2,handleCancelClick:t.handleCancelOneTap,handleConfirmSignup:t.attemptSignup,handleShowLogin:t.props.handleShowLogin,layoutStyle:e,loading:t.state.loading,shouldHide:t.props.shouldHide,step:n})})),t.state={confirmationDialogStep:void 0,googleOpenId:"",loading:!1,showAccountSuspended:!1},t}return t=b,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.pageContext,n=e.requestContext;e.webGoogleDisabled||u()&&(n.isBot||!r.a("fba"))?this.abortOneTapStopwatch("disabled"):(this.setupGoogleOneTap(),n.isBot||Object(m.j)("unauth_web_container.".concat(h.g,".").concat(String(null==t?void 0:t.hybridTier),".other.shown")))}},{key:"componentDidUpdate",value:function(e){this.props.shouldHide&&!e.shouldHide&&this.hide()}},{key:"initializeGoogleOneTap",value:function(){var e=this,t=this.props,n=t.activateDelayAutologin,o=t.activateSafariOneTapExp;this.trackGoogleOneTapAction("sdk_exists");var i=window.google.accounts.id,c=a.b.isSafari();i.initialize({activity_listener:this.handleActivity.bind(this),auto_select:!r.a("fba"),callback:this.handleOneTapResponse.bind(this),cancel_on_tap_outside:!1,client_id:d.a.settings.GPLUS_CLIENT_ID,context:"use",itp_support:c&&o().anyEnabled}),this.props.dispatch({type:"GOOGLE_ONE_TAP_INITIALIZED",payload:{}}),this.trackGoogleOneTapAction("initialize");var u=0,l=n().group;if(l.startsWith("enabled_google")||l.startsWith("enabled_both"))try{var s=l.split("_");u=parseInt(s[2],10)||0}catch(p){Object(m.j)("web_unauth_delay_autologin_error.".concat(l))}u>0?setTimeout((function(){i.prompt(e.handleMomentNotification.bind(e),void 0,e.logNotification.bind(e))}),u):i.prompt(this.handleMomentNotification.bind(this),void 0,this.logNotification.bind(this))}},{key:"logNotification",value:function(e){"auto_select_started"===e.type?Object(m.j)("web_unauth.cancellable_autologin.auto_select_started"):"auto_select_canceled"===e.type&&Object(m.j)("web_unauth.cancellable_autologin.auto_select_canceled")}},{key:"getGoogleId",value:function(){if("undefined"==typeof window)return null;var e=window.google;return e&&e.accounts&&e.accounts.id}},{key:"setupGoogleOneTap",value:function(){var e=this,t=this.props.requestContext.experiments,n=(t.v2ActivateExperiment("web_cancelable_google_autologin")||"").startsWith("enabled");this.annotateOneTapStopwatch("beforeLoadOneTapScript"),Object(m.j)("web_unauth.gsi_script.start_dynamic_loading"),t.flush(),Object(l.b)("".concat(ae.a).concat(n?"?feature=cancelableAutoSelect":"")).then((function(){e.annotateOneTapStopwatch("afterLoadOneTapScript"),e.trackGoogleOneTapAction("gsi_script_loaded");var t=window.google;t&&t.accounts&&t.accounts.id?e.initializeGoogleOneTap():e.abortOneTapStopwatch("noAccountFound")}))}},{key:"handleMomentNotification",value:function(e){var t=e.getMomentType();"display"===t?e.isDisplayed()?this.trackGoogleOneTapAction("display_moment.displayed"):this.trackGoogleOneTapAction("display_moment.not_displayed.".concat(e.getNotDisplayedReason())):"skipped"===t?this.trackGoogleOneTapAction("skipped_moment.".concat(e.getSkippedReason())):"dismissed"===t&&this.trackGoogleOneTapAction("dismissed_moment.".concat(e.getDismissedReason()))}},{key:"handleOneTapResponse",value:function(e){if(e){this.stopOneTapStopwatch();var t=e.select_by;this.trackGoogleOneTapAction("select_by.".concat(t)),this.onRetrieveCredentialsSuccess(e)}else this.abortOneTapStopwatch("noResponse")}},{key:"handleActivity",value:function(e){if(e){if("error"===e.type)return this.trackGoogleOneTapAction("error.".concat(e.errorType)),this.handleEmptyCredentials(),void this.props.dispatch({type:"GOOGLE_ONE_TAP_FAILED",payload:{}});var t="ui_change"===e.type?e.uiActivityType:e.userActivityType;this.trackGoogleOneTapAction("activity.".concat(e.type,".").concat(t)),"close_prompt"===t&&this.handleEmptyCredentials()}}},{key:"handleEmptyCredentials",value:function(){this.props.handleEmptyCredentials&&this.props.handleEmptyCredentials()}},{key:"hide",value:function(){this.hideConfirmationDialog()}},{key:"trackSignupLoginEvent",value:function(e,t){var n=this.props.viewer;n.isAuth?Object(_.b)(e,{login_state:n.isLimitedLogin?2:1,signup_login_method:t}):Object(_.b)(e,{signup_login_method:t})}},{key:"login",value:function(e){var t=this.props.pageContext,n={container:h.g,hybridTier:null==t?void 0:t.hybridTier,page:null==t?void 0:t.pageType};return Object(s.a)(e,Object(c.a)(),n)}},{key:"showConfirmationDialog",value:function(e){var t,n=this.props.container;t="InspiredWallSignup"===n?Y:"login_page"===n?$:e.autologin?Y:Q,this.setState({googleOpenId:e.google_open_id_token,confirmationDialogStep:t})}},{key:"hideConfirmationDialog",value:function(){this.setState({confirmationDialogStep:void 0})}},{key:"showLoading",value:function(){this.setState({loading:!0})}},{key:"hideLoading",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.requestContext,o=t.webGoogleDisabled,i=this.state.showAccountSuspended;if(n.isBot||o)return null;if(i)return Object(w.jsx)(f.a,{onClose:function(){return e.setState({showAccountSuspended:!1})}});var r=this.state.confirmationDialogStep;return r?this.renderGoogleConfirmationDialog("top",r):null}}])&&pe(t.prototype,n),o&&pe(t,o),b}(o.Component);var Oe=Object(ce.c)((function(e){var t=Object(v.c)(),n=Object(re.a)("web_unauth_safari_one_tap"),o=Object(re.b)("web_google_disabled").anyEnabled,r=Object(re.a)("web_unauth_delay_autologin");return Object(w.jsx)(_e,se(se({},e),{},{activateDelayAutologin:r,activateSafariOneTapExp:n,dispatch:Object(i.useDispatch)(),requestContext:Object(U.d)(),viewer:Object(b.b)(),webGoogleDisabled:o,i18n:t}))}));function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Ce(e);if(t){var i=Ce(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?Te(e):t}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(r,e);var t,n,o,i=Se(r);function r(){var e;ve(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return xe(Te(e=i.call.apply(i,[this].concat(n))),"state",{showGoogleOneTap:!0}),xe(Te(e),"hide",(function(){e.setState({showGoogleOneTap:!1})})),xe(Te(e),"reportFailureToShow",(function(){e.props.handleFailureToShow&&e.props.handleFailureToShow()})),e}return t=r,(n=[{key:"render",value:function(){var e=this,t=this.state.showGoogleOneTap,n=this.props,o=n.container,i=n.handleSignupConfirmed,r=n.handleLoginError,a=n.handleLoginWithMfa,c=n.handleSignupError,u=n.handleShowLogin,l=n.nextUrl,s=n.shouldHide;return t?Object(w.jsx)(Oe,{container:o,handleEmptyCredentials:this.hide,handle2FALogin:function(t){e.hide(),a(t)},handleLoginError:function(t){e.hide(),r(t)},handleSignupConfirmed:function(t,n,o){e.hide(),i&&i(t,n,o)},handleSignupError:function(){e.hide(),c()},handleShowLogin:function(){e.hide(),u()},nextUrl:l,reportFailureToShow:this.reportFailureToShow,shouldHide:s}):null}}])&&je(t.prototype,n),o&&je(t,o),r}(o.Component);xe(Ee,"defaultProps",{container:"unknown",shouldHide:!1});t.default=Ee},TgLd:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var o=n("q1tI"),i=n("D2p8"),r=n("LT60"),a=n("n6mq"),c=n("nKUr"),u=new a.t(1e3);function l(e){var t=e._dangerouslyDisableScrollBoundaryContainer,n=e.accessibilityModalLabel,l=e.align,s=e.allowClickAndDrag,p=e.allowMediaPlay,g=e.allowScroll,f=e.children,d=e.closeOnOutsideClick,b=e.footer,h=e.heading,y=e.onDismiss,_=e.role,O=e.size,m=e.subHeading;Object(o.useEffect)((function(){return i.c.pause(),function(){i.c.resume()}}),[]);return Object(c.jsx)(a.A,{zIndex:u,children:Object(c.jsx)(r.a,{allowClickAndDrag:s,allowEsc:!0,allowMediaPlay:p,allowScroll:g,children:Object(c.jsx)(a.H,{_dangerouslyDisableScrollBoundaryContainer:t,accessibilityModalLabel:n,align:l,closeOnOutsideClick:d,heading:h,footer:b,onDismiss:function(){i.c.resume(),y()},role:_,size:O,subHeading:m,children:f})})})}},d2Eh:function(e,t,n){"use strict";t.a={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},h7e3:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return h}));var o=n("3R0Q"),i=n("EHyI"),r=n("SyXB"),a=n("FylZ"),c=n("mRg4"),u=n("XtwW"),l=n("fZG9"),s=n("3/Bf"),p={},g=function(e,t){t.forEach((function(t){p[t]=function(e){var t=e.name,n=e.pwtStaticContext;if(!u.a||!Object(i.a)())return null;var r={type:"stopwatch",name:t},s=[],p=!0;return{abort:function(e){p&&(p=!1,Object(c.a)({metricId:r,pwtStaticContext:n,result:{type:"ABORT",reason:e}}))},annotate:function(e){p&&s.push({label:e,timestamp:u.a.now()})},stop:function(){if(p){p=!1;var e={type:"COMPLETE",traceId:Object(a.a)(),startTime:0,endTime:u.a.now(),spans:[],annotationMap:Object(o.a)(s),binaryAnnotationMap:Object(l.a)({metricId:r,pwtStaticContext:n})};Object(c.a)({metricId:r,pwtStaticContext:n,result:e})}}}}({name:t,pwtStaticContext:e})}))},f=function(e){return p[e]},d=function(e,t){var n=f(e);if(n)try{n.abort(t)}catch(o){Object(s.b)("app_load_stopwatch_error",{name:e,result:"abort"})}},b=function(e,t){var n=f(e);n&&(n.annotate(t),Object(r.c)("stopwatch_".concat(e,"_").concat(t)))},h=function(e){var t=f(e);if(t)try{t.stop()}catch(n){Object(s.b)("app_load_stopwatch_error",{name:e,result:"complete"})}}},kJuv:function(e,t,n){"use strict";var o=n("gxu6"),i=n("eOdZ"),r=n("QLqj"),a=n("kmwA"),c=n("ARZW"),u=n("J8m7"),l=n("sv3x"),s=n("AXUD"),p=n("dish"),g=n("OX7c"),f=n("28DW"),d=n("AYc3"),b=n("2y2F"),h=n("yM2L");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="referrer_unknown";try{var r=document.referrer;i=r?r.indexOf("/t.co/")>-1?"twitter":r.indexOf("google.")>-1?"google":r.indexOf("bing.")>-1?"bing":r.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(y){}var a=Object(l.c)(e),u=t===Object(t)?t.hybridTier:"tier_unknown",s=t===Object(t)?t.container:"container_unknown";Object(f.a)("login.referrer."+i+"."+a),Object(f.a)("login.container."+s+"."+a),Object(f.a)("login.type."+a);var p=Object(l.c)(e)||"method_unknown",g=t.page||"page_unknown";e.gplus_autologin?o?(Object(f.a)("mweb_autologin.google_success"),Object(f.l)("new_mweb_autologin_google",{page:g,referrer:i,container:s,hybridTier:u})):(Object(f.a)("web_autologin_google"),Object(f.l)("new_web_autologin_google",{page:g,referrer:i,container:s,hybridTier:u})):e.facebook_autologin?(Object(f.a)("web_autologin_facebook"),Object(f.l)("new_web_autologin_facebook",{page:g,referrer:i,container:s,hybridTier:u})):(Object(f.a)("web_login.".concat(p,".success.").concat(g,".").concat(s,".").concat(i,".").concat(u)),Object(f.l)("new_web_login.".concat(p,".success"),{page:g,referrer:i,container:s,hybridTier:u})),Object(b.a)(n)&&Object(d.g)({id:c.b,eventCategory:"Logins",eventName:"Desktop"}),Object(b.f)(n)&&Object(d.k)({id:"flashtalking-d-login",eventCategory:"Logins",eventName:"Desktop"}),Object(b.c)(n)&&Object(d.h)({pixelId:"dpm_pixel_login_event",eventCategory:"Logins",eventName:"Desktop"}),Object(b.d)(n)&&Object(d.i)({pixelId:"dentsu_pixel_login_event",eventCategory:"Logins",eventName:"Desktop"});var h=e.facebook_autologin||e.gplus_autologin||e.autologin?"autologin":"login";Object(f.g)({action:h,event:"success",type:a})},v=function(e,t){Object(f.a)("web_cross_domain_login.".concat(e,".").concat(Object(l.c)(t)))},j=function(e){return!e.mfa_resend&&!!e.username_or_email},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"other",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var i=e.http_status===s.b?s.b:e.api_error_code,r=i;u.b.has(i)&&(r=u.b.get(i));var a=t.container;o?Object(f.a)("unauth_web_client_cctld_login_api_error.".concat(String(r),".").concat(a||"unknow_container",".").concat(n)):Object(f.a)("unauth_web_client_login_api_error.".concat(String(r),".").concat(a||"unknow_container",".").concat(n)),Object(f.g)({action:"login",event:"fail",type:n})}},S=function(e,t,n,o){v("attempt",e);var i=o.referrer,r=o.facebookToken,a=o.unauthId;return Object(h.loginUser)(e,{recaptchaV3Token:t,referrer:i,facebookToken:r,unauthId:a}).then((function(t){if(t&&t.data){v("success_with_token",e);var o=t.data;return Object(h.exchangeTokenAndSetSession)(o).then((function(t){return v("success_token_exchanged",e),m(e,n),Promise.resolve()}),(function(t){throw v("success_token_not_exchanged",e),t}))}throw v("success_without_token",e),new Error}),(function(t){throw v("failure",e),w(t,n,Object(l.c)(e),!0),t}))};t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,f=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(j(e)){var d=a.a.settings.CORS_HANDSHAKE_DOMAINS;if(-1!==d.indexOf(t.origin))return S(e,s,n,t)}var b=c?null:r.b.localStorage.getItem("visitedPagesBeforeLogin"),h=_(_({},e),{},{get_user:e.get_user||e.switch_account&&c,app_type_from_client:7===t.appType?7:5,visited_pages_before_login:b?JSON.stringify(b):null,recaptchaV2Token:u,recaptchaV3Token:s}),y=i.a.create("UserSessionResource",h),O={showError:!1,async:!0};return y.callCreate(O).then((function(t){var i=(t||{}).client_context||{},r=i.country,a=i.active_experiments;return m(e,n,r,f),Object(p.b)(!1),a&&a.web_cctld_cookies_cleanup&&"enabled"===a.web_cctld_cookies_cleanup&&(o.c("fba"),o.c("logged_out")),Object(g.a)("login").then((function(){return t}))}),(function(t){return w(t,n,Object(l.c)(e)),Promise.reject(t)}))}},qpbZ:function(e,t,n){"use strict";function o(e,t,n){return e.split(n).map((function(e){if(e.match(n)){var o=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,o))return t[o]}return e}))}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u}));var i=/(\{\{\s*\w+\s*\}\})/g;function r(e,t){return o(e,t,i)}function a(e,t){return o(e,t,i).join("")}var c=/(\{\s*\w+\s*\})/g;function u(e,t){return o(e,t,c)}},vjiL:function(e,t,n){"use strict";var o=n("+NLT"),i=n("m2Wt"),r=n("h4v/");var a=n("zpPL");var c=n("Jr++"),u=n("eqAH"),l=n("kmwA"),s=n("28DW"),p=n("ARZW"),g=n("JqDr"),f=n("AYc3"),d=n("2y2F");t.a=function(e){return function(t){var n=o.a.instance,b=n.facebook_token,h=n.invite_code,y=n.locale,_=n.country,O=n.origin,m=n.referrer,v=n.unauth_id,j=n.user_agent_platform,w={logContextEventType:function(e){r.a.getInstance().addEvent(i.a.fromEventType(e))},sendActiveUserPing:u.a,registerUserContext:{facebookToken:b,inviteCode:h,locale:y,referrer:m,unauthId:v},onCorsHandshakeHost:l.a.settings.CORS_HANDSHAKE_DOMAINS.includes(O),successWithoutTokenErrorMessage:e._("We were able to create your account, but there was a problem logging you in. Try refreshing the page to continue."),trackRegisterSuccess:function(){var e;Object(s.a)("signup_referrer_module.".concat(String(Object(c.a)().referrer||((e=a.a.instance.getState().ui.mainComponent.initial)?e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase():null)))),"ios"===j?Object(s.a)("signup_mweb.iphone_web"):"ipad"===j?Object(s.a)("signup_mweb.ipad_web"):"android"===j&&Object(s.a)("signup_mweb.android_web")}};return Object(d.a)(_)&&Object(f.g)({id:p.c,eventCategory:"NewUsers",eventName:"Desktop"}),Object(d.f)(_)&&Object(f.k)({id:"flashtalking-d-reg",eventCategory:"NewUsers",eventName:"Desktop"}),Object(d.c)(_)&&Object(f.h)({pixelId:"dpm_pixel_new_user_event",eventCategory:"NewUsers",eventName:"Desktop"}),Object(d.d)(_)&&Object(f.i)({pixelId:"dentsu_pixel_new_user_event",eventCategory:"NewUsers",eventName:"Desktop"}),Object(g.a)(t,w)}}},"xkL+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("1dBE"),i=Object(o.c)("viewer"),r=i.Provider,a=(i.Consumer,i.useHook);t.b=a}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/322-8307d86df07935676d57.js.map