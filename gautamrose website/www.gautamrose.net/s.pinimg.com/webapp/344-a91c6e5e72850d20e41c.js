(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[344],{LT60:function(e,r,n){"use strict";n.d(r,"b",(function(){return a})),n.d(r,"a",(function(){return i}));var t=n("d2Eh"),o=n("nKUr"),s=function(){},a=function(e){e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function i(e){var r=e.allowClickAndDrag,n=e.allowEsc,i=e.allowMediaPlay,u=e.allowScroll,c=e.children,d=function(e){return function(e,r){r&&e.keyCode===t.a.ESCAPE||a(e)}(e,n)};return Object(o.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:s,onCanPlay:i?s:a,onCanPlayThrough:a,onChange:a,onClick:r?s:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:s,onInput:a,onInvalid:a,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:r?s:a,onMouseOut:a,onMouseOver:a,onMouseUp:r?s:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:u?s:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:r?s:a,onTouchMove:r?s:a,onTouchStart:r?s:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:c})}},TgLd:function(e,r,n){"use strict";n.d(r,"a",(function(){return u})),n.d(r,"b",(function(){return c}));var t=n("q1tI"),o=n("D2p8"),s=n("LT60"),a=n("n6mq"),i=n("nKUr"),u=new a.t(1e3);function c(e){var r=e._dangerouslyDisableScrollBoundaryContainer,n=e.accessibilityModalLabel,c=e.align,d=e.allowClickAndDrag,l=e.allowMediaPlay,f=e.allowScroll,p=e.children,w=e.closeOnOutsideClick,h=e.footer,m=e.heading,g=e.onDismiss,b=e.role,v=e.size,y=e.subHeading;Object(t.useEffect)((function(){return o.c.pause(),function(){o.c.resume()}}),[]);return Object(i.jsx)(a.A,{zIndex:u,children:Object(i.jsx)(s.a,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:l,allowScroll:f,children:Object(i.jsx)(a.H,{_dangerouslyDisableScrollBoundaryContainer:r,accessibilityModalLabel:n,align:c,closeOnOutsideClick:w,heading:m,footer:h,onDismiss:function(){o.c.resume(),g()},role:b,size:v,subHeading:y,children:p})})})}},c50B:function(e,r,n){"use strict";n.d(r,"p",(function(){return i})),n.d(r,"d",(function(){return u})),n.d(r,"e",(function(){return c})),n.d(r,"m",(function(){return d})),n.d(r,"a",(function(){return l})),n.d(r,"o",(function(){return f})),n.d(r,"i",(function(){return p})),n.d(r,"l",(function(){return w})),n.d(r,"r",(function(){return h})),n.d(r,"n",(function(){return m})),n.d(r,"j",(function(){return g})),n.d(r,"f",(function(){return b})),n.d(r,"g",(function(){return v})),n.d(r,"h",(function(){return y})),n.d(r,"b",(function(){return j})),n.d(r,"c",(function(){return P})),n.d(r,"t",(function(){return O})),n.d(r,"q",(function(){return S})),n.d(r,"k",(function(){return C})),n.d(r,"s",(function(){return _})),n.d(r,"u",(function(){return x}));var t=n("jZDM");function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return s(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}var a=function(e){var r={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach((function(e,t){var o=r[e];o&&(n[t]=o)})),n.join("")};function i(e){return function(r,n){var t=[];r&&/\S/.test(r)||t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}var u=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function c(e){return function(r,n){var t=[];(r=r&&r.trim())&&!r.match(u)&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function d(e){return function(r,n){var t=[];(r=r&&r.trim())&&!r.match(/^[^0-9].*$/)&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function l(e){return function(r,n){var t=a(r.trim()),o=[];if(t)if(t.length<2&&o.push(e.ageTooShortString),/^\d+$/.test(t)){var s=parseInt(t,10);s<=0||s>=300?o.push(e.invalidAgeString):e.checkUnderAgeWithString&&s<12&&o.push(e.checkUnderAgeWithString)}else o.push(e.invalidAgeString);var i={errors:o,warnings:[]};return n&&n(i),i}}function f(e){return function(r,n){var t=(r=r&&r.trim()).replace(/[\(\)\+\-\. ]/g,""),o=[],s=!1!==e.checkLength&&t.length<7;!r||r.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!s||o.push(e.message);var a={errors:o,warnings:[]};return n&&n(a),a}}function p(e){return function(r,n){var t=[];"number"==typeof r||"string"==typeof r&&(r=r&&r.trim(),(r=a(r))&&!r.match(/^\d+$/)&&t.push(e.message));var o={errors:t,warnings:[]};return n&&n(o),o}}function w(e){return function(r,n){var t=[];"number"==typeof r||"string"==typeof r&&(r=r&&r.trim(),(r=a(r))&&!r.match(/^[\d\ -]+$/)&&t.push(e.message));var o={errors:t,warnings:[]};return n&&n(o),o}}function h(e){return function(r,n){var t=[];r&&!r.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function m(e){return function(r,n){var o=[];if(r)try{var s=Object(t.a)(r);s&&s.protocol&&("http"!==s.protocol||"localhost"===s.hostname)||o.push(e.message)}catch(i){o.push(e.message)}var a={errors:o,warnings:[]};return n&&n(a),a}}function g(e){return function(r,n){var t=[];(e.should_trim||!1)&&(r=r&&r.trim());var o=r.length;e.min&&o<e.min?t.push(e.minErrorString):e.max&&o>e.max&&t.push(e.maxErrorString);var s={errors:t,warnings:[]};return n&&n(s),s}}function b(e){return function(r,n){var t=[];r!==(e&&e.targetValue)&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function v(e){return function(r,n){r&&(r=parseFloat(r));var t=[];r<=e.value&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function y(e){return function(r,n){r&&(r=parseFloat(r));var t=[];r<e.value&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function j(e){return function(r,n){var t=[];/^[\040-\176]*$/.test(r)||t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function P(e){return function(r,n){var t=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,o=[];"number"==typeof r&&(r=r.toString()),r&&!r.match(t)&&(r=r&&r.trim(),o.push(e.message));var s={errors:o,warnings:[]};return n&&n(s),s}}function O(e){return function(r,n){r=r&&r.trim();var t=[],o=new Date(r);r&&!o.getTime()&&t.push(e.message);var s={errors:t,warnings:[]};return n&&n(s),s}}function S(e){return function(r,n){var t=[];(r=r&&r.trim())&&!r.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function C(e){return function(r,n){var t=[];e.pattern.test(r)||t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function _(e,r){var n,t=e.map((function(e){return e(r).errors}));return(n=[]).concat.apply(n,o(t))}function x(e,r){var n="";return r.some((function(r){var t=r(e);return t.errors.length>0&&(n=t.errors[0],!0)})),n}},d2Eh:function(e,r,n){"use strict";r.a={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},qpbZ:function(e,r,n){"use strict";function t(e,r,n){return e.split(n).map((function(e){if(e.match(n)){var t=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return e}))}n.d(r,"b",(function(){return s})),n.d(r,"c",(function(){return a})),n.d(r,"a",(function(){return u}));var o=/(\{\{\s*\w+\s*\}\})/g;function s(e,r){return t(e,r,o)}function a(e,r){return t(e,r,o).join("")}var i=/(\{\s*\w+\s*\})/g;function u(e,r){return t(e,r,i)}},rbpv:function(e,r,n){"use strict";n.d(r,"a",(function(){return T}));var t=n("q1tI"),o=n("TgLd"),s=n("kmwA"),a=n("yweb"),i=n("n6mq"),u=n("nKUr"),c=function(e){var r=e.onDismiss,n=Object(a.c)();return Object(u.jsx)(o.b,{accessibilityModalLabel:n._("Successfully changed password","Accessible label for success message after password reset","Accessible label for success message after password reset"),onDismiss:r,heading:n._("Password changed!","Notice that a user successfully changed their password","Notice that a user successfully changed their password"),size:"md",footer:Object(u.jsx)(i.f,{children:Object(u.jsx)(i.C,{href:s.a.settings.LOGIN_URL,onClick:function(e){return(0,e.disableOnNavigation)()},children:Object(u.jsx)(i.g,{fullWidth:!0,color:"red",onClick:r,text:n._("Okay","Acknowledgement of successful password change","Acknowledgement of successful password change")})})}),children:Object(u.jsx)(i.f,{padding:4,children:Object(u.jsx)(i.cb,{children:n._("Your password has been changed successfully","Notice that a user successfully changed their password","Notice that a user successfully changed their password")})})})},d=n("mBfy"),l=n("sEfC"),f=n.n(l),p=n("eOdZ"),w=n("J8m7"),h=n("pGrQ"),m=n("U4JR"),g=n("c50B"),b=n("vvax");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,r,n,t,o,s,a){try{var i=e[s](a),u=i.value}catch(c){return void n(c)}i.done?r(u):Promise.resolve(u).then(t,o)}function j(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function P(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?j(Object(n),!0).forEach((function(r){k(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function O(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function S(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function C(e,r){return(C=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function _(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,t=E(e);if(r){var o=E(this).constructor;n=Reflect.construct(t,arguments,o)}else n=t.apply(this,arguments);return x(this,n)}}function x(e,r){return!r||"object"!==v(r)&&"function"!=typeof r?A(e):r}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var D=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&C(e,r)}(v,e);var r,n,t,o,a,l=_(v);function v(){var e;O(this,v);for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return k(A(e=l.call.apply(l,[this].concat(n))),"state",{errors:{newPassword:[],newPasswordConfirm:[]},newPassword:"",newPasswordConfirm:"",showConfirmation:!1,data:null}),k(A(e),"requiredValidator",Object(g.p)({message:e.props.i18n._("Required","Validation error when a required field is missing","Validation error when a required field is missing")})),k(A(e),"validators",{newPassword:{required:e.requiredValidator,password:Object(h.a)({blackPassStr:e.props.i18n._("Please try using a stronger password","Weak password validation error","Weak password validation error"),samePasswordStr:e.props.i18n._("Password and username can’t match","Validation error when username and password match","Validation error when username and password match"),shortPassStr:e.props.i18n._("Too short","Validation error when a password is too short","Validation error when a password is too short"),username:e.props.options.username}),containsOnlyAscii:Object(g.b)({message:e.props.i18n.commonStrings.asciiPasswordError})},newPasswordConfirm:{required:e.requiredValidator,equalTo:function(r){return Object(g.f)({targetValue:r,message:e.props.i18n._("Passwords don‘t match")})}}}),k(A(e),"handlePasswordFieldChange",(function(r,n){e.setState(k({},r,n)),e.validateFields(r,n)})),k(A(e),"handleSubmitSuccess",(function(r){r.resource_response.data.password_changed&&(Object(m.b)(52,{view:7,viewParameter:53,component:141,reset_password_page_version:"react"}),e.setState({showConfirmation:!0}))})),k(A(e),"handleSubmitFailure",(function(r){var n;r.api_error_code===w.w?(n={showConfirmation:!0},Object(m.b)(52,{view:7,viewParameter:53,component:141,reset_password_page_version:"react"})):n={newPassword:"",newPasswordConfirm:"",errors:{newPassword:[r.message_detail||r.message],newPasswordConfirm:[]}},e.setState(P({},n))})),k(A(e),"handleSubmit",(function(r){r.event.preventDefault();var n=e.state,t=n.newPassword,o=n.newPasswordConfirm,s=P(P({},e.props.options),{},{new_password:t,new_password_confirm:o});p.a.create("ResetPasswordFromEmailResource",s).callUpdate({showError:!1}).then(e.handleSubmitSuccess,e.handleSubmitFailure)})),k(A(e),"validateFields",f()((function(r,n){var t={};"newPassword"===r?t={newPassword:e.runValidators(r,n),newPasswordConfirm:e.state.newPasswordConfirm?e.runValidators("newPasswordConfirm",e.state.newPasswordConfirm,n):[]}:t={newPasswordConfirm:e.runValidators("newPasswordConfirm",n,e.state.newPassword)};e.setState({errors:P(P({},e.state.errors),t)})}),300)),k(A(e),"dismissConfirmationModal",(function(){return e.setState({showConfirmation:!1})})),e}return r=v,(n=[{key:"componentDidMount",value:(o=regeneratorRuntime.mark((function e(){var r,n,t,o,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.isUnauth){e.next=3;break}return this.setState({data:this.props.data}),e.abrupt("return");case 3:if(r=this.props.options,n=r.username,t=r.token,o=r.expiration,d.default.get("username")!==n||!d.default.isLimitedLogin()){e.next=7;break}return e.next=7,d.default.logoutWithOptions(null,"password-reset");case 7:p.a.create("VerifyEmailTokenResource",{username:n,expiration:o,token:t}).callGet().then((function(e){s.setState({data:e.resource_response.data})}));case 8:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,r=arguments;return new Promise((function(n,t){var s=o.apply(e,r);function a(e){y(s,n,t,a,i,"next",e)}function i(e){y(s,n,t,a,i,"throw",e)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"runValidators",value:function(e,r,n){var t=this.validators[e];"newPasswordConfirm"===e&&(t=P(P({},t),{equalTo:t.equalTo(n)}));var o=Object.values(t);return Object(g.s)(o,r)}},{key:"render",value:function(){var e=this,r=this.state,n=r.newPassword,t=r.newPasswordConfirm,o=r.errors,a=this.state.data,d=o.newPassword.length+o.newPasswordConfirm.length,l=!(!n||!t||n!==t||d);if(!a)return null;var f=a.is_link_valid;return Object(u.jsxs)(i.f,{dangerouslySetInlineStyle:{__style:{display:"flex"}},children:[Object(u.jsx)("form",{method:"POST",onSubmit:this.handleSubmit,style:{width:"100%",justifyContent:"space-around",display:"flex"},children:Object(u.jsxs)(i.f,{dangerouslySetInlineStyle:{__style:{width:"58.33333%",display:"block"}},children:[Object(u.jsx)(i.v,{align:"center",children:f?this.props.i18n._("Pick a new password","Prompt to pick a new password","Prompt to pick a new password"):this.props.i18n._("Sorry","unauth.dweb.passwordReset.sorryHeading","Heading when a reset password link is invalid")}),f?Object(u.jsxs)(i.f,{children:[Object(u.jsx)(i.f,{marginBottom:2,marginTop:4,children:Object(u.jsx)(i.z,{htmlFor:"newPassword",children:Object(u.jsx)(i.cb,{weight:"bold",children:this.props.i18n._("New password","Field label for entering a new password","Field label for entering a new password")})})}),Object(u.jsx)(i.eb,{errorMessage:Array.isArray(o.newPassword[0])?o.newPassword[0].join(""):o.newPassword[0],id:"newPassword",onChange:function(r){var n=r.value;return e.handlePasswordFieldChange("newPassword",n)},size:"lg",type:"password",value:this.state.newPassword}),Object(u.jsx)(i.f,{marginBottom:2,marginTop:4,children:Object(u.jsx)(i.z,{htmlFor:"confirmNewPassword",children:Object(u.jsx)(i.cb,{weight:"bold",children:this.props.i18n._("Type it again","Prompt to repeat the desired password","Prompt to repeat the desired password")})})}),Object(u.jsx)(i.eb,{errorMessage:Array.isArray(o.newPasswordConfirm[0])?o.newPasswordConfirm[0].join(""):o.newPasswordConfirm[0],id:"confirmNewPassword",onChange:function(r){var n=r.value;return e.handlePasswordFieldChange("newPasswordConfirm",n)},size:"lg",type:"password",value:this.state.newPasswordConfirm})]}):Object(u.jsxs)(i.f,{children:[Object(u.jsx)(i.f,{marginTop:6,children:Object(u.jsx)(i.cb,{align:"center",children:this.props.i18n._("The password reset link was invalid / expired (valid for 24 hrs), possibly because it has already been used.","unauth.dweb.passwordReset.linkInvalidtext","Explanation of why a user is unable to reset their password from the current link")})}),Object(u.jsx)(i.f,{marginTop:6,children:Object(u.jsx)(i.cb,{align:"center",children:Object(b.b)(this.props.i18n._("Please request a {{anchorTag}}","unauth.dweb.passwordReset.newResetLinkText","Prompt to click for new password reset email"),{anchorTag:Object(u.jsx)("a",{href:s.a.settings.PASSWORD_RESET_URL,children:Object(u.jsx)(i.cb,{color:"darkGray",inline:!0,weight:"bold",children:this.props.i18n._("new password reset","unauth.dweb.passwordReset.newResetLinkText.link","Fragment of invalid password reset link message.Prompt to request a new reset password link")})},"invalidLink")})})})]}),f?Object(u.jsx)(i.f,{display:"flex",justifyContent:"end",marginTop:4,children:Object(u.jsx)(i.g,{color:"red",disabled:!l,onClick:this.handleSubmit,size:"md",text:this.props.i18n._("Change Password"),type:"submit"})}):null]})}),this.state.showConfirmation&&Object(u.jsx)(c,{onDismiss:this.dismissConfirmationModal})]})}}])&&S(r.prototype,n),t&&S(r,t),v}(t.Component);function T(e){var r=Object(a.c)();return Object(u.jsx)(D,P(P({},e),{},{i18n:r}))}},vvax:function(e,r,n){"use strict";var t=n("qpbZ");n.d(r,"b",(function(){return t.b})),n.d(r,"a",(function(){return t.a}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/344-a91c6e5e72850d20e41c.js.map