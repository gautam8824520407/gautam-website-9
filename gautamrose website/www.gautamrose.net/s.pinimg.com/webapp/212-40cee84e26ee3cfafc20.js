(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[212],{"HOY+":function(e,t,n){"use strict";var i=n("q1tI"),r=n("/MKj"),o=n("jmst"),a=n("BUdX"),u=n("qhFy"),l=n("yweb"),c=n("n6mq"),s=n("nKUr"),d={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},f={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},p={overlay:{__style:{backgroundColor:"#000"}}};function h(e){var t=e.backgroundImage,n=e.naturalHeight,i=e.naturalWidth,r=e.onRestartVideo,o=e.pinTitle,a=e.pin,u=Object(l.c)(),h=a.id;return Object(s.jsxs)(c.y,{alt:o||u._("pin image","image of a pin","image of a pin"),naturalHeight:n,naturalWidth:i,src:t,children:[Object(s.jsx)(c.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:p.overlay}),Object(s.jsxs)(c.f,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-".concat(h),children:[Object(s.jsx)(c.bb,{rounding:2,children:Object(s.jsxs)(c.f,{display:"flex",justifyContent:"center",padding:2,children:[Object(s.jsx)(c.w,{accessibilityLabel:u._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:f,size:25}),Object(s.jsx)(c.f,{margin:1}),Object(s.jsx)(c.cb,{color:"white",lineClamp:1,weight:"bold",children:u._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website")})]})}),Object(s.jsx)(c.f,{margin:3}),Object(s.jsx)(c.bb,{onTap:r,rounding:2,children:Object(s.jsxs)(c.f,{display:"flex",justifyContent:"center",padding:2,children:[Object(s.jsx)(c.w,{accessibilityLabel:u._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:d,size:25}),Object(s.jsx)(c.f,{margin:1}),Object(s.jsx)(c.cb,{color:"white",lineClamp:1,weight:"bold",children:u._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video")})]})})]})]})}var y=n("51gp"),b=n("Y8Sn");var v=new Map,g=null,m=function(e){e.forEach((function(e){var t=v.get(e.target);t&&t(e)}))};function j(e){var t=e.onVisibilityChanged,n=e.inAdsDesktopVideoExperiment,r=e.trackFullVisible,o=e.rootMargin,a=Object(i.useRef)(null),u=!1,l=function(){var e;a.current instanceof HTMLElement&&(e=a.current,v.has(e))&&(u&&(t(!1),u=!1))},c=Object(i.useCallback)((function(e){a.current instanceof HTMLElement&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,i=[0,.5,1],r={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:i};g=g||new window.IntersectionObserver(m,r),v.set(e,n),g.observe(e)}(a.current,e,(function(e){if(v.has(a.current)){var i=n?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,o=r?e.intersectionRatio>=1:i,c=r?0===e.intersectionRatio:!o;!u&&o?function(e){var n=e.intersectionRatio>0||e.isIntersecting;(u=n)&&t(!0)}(e):u&&c&&l()}}))}),[a.current]);return Object(i.useEffect)((function(){return c(o),function(){var e;a.current instanceof HTMLElement&&(l(),e=a.current,g.unobserve(e),v.delete(e))}}),[c]),a}var x=n("vZlu");function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,r,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){u=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(u)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _=new Set(["ConversationView","TodayTabFeed"]);var T=Object(r.connect)(void 0,(function(e){return{setCurrentVideo:function(t){return e(Object(x.c)(t))}}}))((function(e){var t,n,r=e.inAdsDesktopVideoExperiment,o=e.isAutoplay,a=e.cropHeight,d=e.currentTime,f=e.lowResOnly,p=e.highResOnly,v=e.onLoad,g=e.onError,m=e.saved,x=e.onTimeChange,w=e.isExperimentalPinRep,T=e.pin,A=e.surface,C=e.playing,S=e.rootMargin,P=e.setCurrentVideo,E=e.viewType,I=e.viewParameter,V=e.onVisibilityChanged,R=e.trackFullVisible,B=e.inVisibilityChangedHookExperiment,M=Object(l.c)(),k=O(Object(i.useState)(!1),2),L=k[0],H=k[1],D=O(Object(i.useState)(!0),2),W=D[0],F=D[1],U=Object(b.f)(T),z=U&&!T.is_eligible_for_web_closeup,q=w&&U&&T.is_eligible_for_web_closeup&&!_.has(A),K=z||!w||!U,N=j({onVisibilityChanged:V,inAdsDesktopVideoExperiment:r,trackFullVisible:R,rootMargin:S}),G=!C;r&&(G=W,o&&C&&W&&F(!1));var Z=((null===(t=T.images)||void 0===t?void 0:t["236x"])||{}).url,Y=T.id,J=T.is_promoted,$=Object(i.useCallback)((function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),P({pinId:Y,isPromoted:Boolean(J),currentTime:0}),H(!1)}),[J,Y,P]),Q=Object(i.useCallback)((function(){J&&H(q)}),[q,J]);if(!T.videos||null===(n=T.videos.video_list)||void 0===n||!n.V_HLSV4)return null;var X=T.videos.video_list.V_HLSV4||{},ee=X.height,te=X.thumbnail,ne=X.width,ie=X.url,re=T.videos.id,oe=[{type:"video/m3u8",src:ie}];return L&&U?Object(s.jsx)(c.f,{ref:B?N:null,children:Object(s.jsx)(h,{backgroundImage:null!=Z?Z:"",naturalHeight:null!=ee?ee:1,naturalWidth:null!=ne?ne:1,pin:T,onRestartVideo:$})}):G?Object(s.jsx)(c.f,{ref:B?N:null,children:Object(s.jsx)(u.b,{lowResOnly:f,highResOnly:p,onLoad:v,onError:g,pin:T,saved:m})}):Object(s.jsx)(c.f,{ref:B?N:null,children:Object(s.jsx)(y.a,{cropHeight:a,rootMargin:S,surface:A,inAdsDesktopVideoExperiment:r,contextLogData:{viewParameter:I,component:0,objectId:T.id,video_id:re,view:E},accessibilityMaximizeLabel:M._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:M._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:M._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:M._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:M._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:M._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=ne?ne:1)/(null!=ee?ee:1),captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:d||-1},loop:K,onTimeChange:x,playing:C,poster:Z||te,src:null!=oe?oe:[],videoStartTime:d,volume:0,onEnded:Q})})}));function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=R(e);if(t){var r=R(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=Object(o.a)(T),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(o,e);var t,n,i,r=E(o);function o(){var e;C(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return B(V(e=r.call.apply(r,[this].concat(n))),"calculateCurrentVideoTime",(function(){var t=e.props,n=t.currentTimeFromPinRep,i=t.pin,r=t.videosAutoplaying,o=i.id,a=Object(b.b)(o,r);return e.currentVideoCurrentTime||a||n})),B(V(e),"handleVisibilityChanged",(function(t){var n=e.props,i=n.currentTimeFromPinRep,r=n.pin,o=n.setCurrentVideo,a=n.pauseAutoplay,u=n.videosAutoplaying,l=r.id,c=r.is_promoted,s=Object(b.j)(l,u),d=Object(b.a)(l,u);t?c?o({pinId:l,isPromoted:c,currentTime:e.calculateCurrentVideoTime()}):d&&o({pinId:l,isPromoted:Boolean(c),currentTime:e.calculateCurrentVideoTime()}):!t&&s&&a({pinId:l,isPromoted:Boolean(c),currentTime:i||e.currentVideoCurrentTime})})),B(V(e),"handleVideoTimeChange",(function(t){var n=e.props,i=n.pin,r=n.onTimeChange,o=n.videosAutoplaying,a=i.id;Object(b.j)(a,o)&&(e.currentVideoCurrentTime=t.time),r&&r(t)})),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.props.onLoad&&this.props.onLoad()}},{key:"componentDidUpdate",value:function(e){var t=e.appInFocus,n=this.props,i=n.appInFocus,r=n.currentTimeFromPinRep,o=n.pauseAutoplay,a=n.pin,u=n.setCurrentVideo,l=n.videosAutoplaying,c=a.id,s=a.is_promoted,d=Object(b.j)(c,l);i!==t&&!i&&d?(this.pausedDueToBrowserOutOfFocus=!0,o({pinId:c,isPromoted:Boolean(s),currentTime:r||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,u({pinId:c,isPromoted:Boolean(s),currentTime:this.calculateCurrentVideoTime()}))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.currentTimeFromPinRep,n=e.pauseAutoplay,i=e.pin,r=e.videosAutoplaying,o=i.id,a=i.is_promoted;Object(b.j)(o,r)&&n({pinId:o,isPromoted:Boolean(a),currentTime:t||this.currentVideoCurrentTime})}},{key:"render",value:function(){var e=this.props,t=e.cropHeight,n=e.isAutoplay,i=e.pin,r=e.surface,o=e.videosAutoplaying,u=e.viewParameter,l=e.viewType,c=e.highResOnly,d=e.lowResOnly,f=e.onError,p=e.onLoad,h=e.saved,y=e.inAdsDesktopVideoExperiment,v=e.isExperimentalPinRep,g=e.rootMargin,m=i.id,j=Object(b.b)(m,o),x=Object(b.j)(m,o)&&n,O=a.a.fromGlobalContext().experiments.getWithActivation("web_mqtt_finddomnode_deprecation").anyEnabled;return O?Object(s.jsx)(T,{cropHeight:t,rootMargin:g,currentTime:j,inAdsDesktopVideoExperiment:y,isAutoplay:n,viewParameter:u,viewType:l,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:i,surface:r,playing:x,trackFullVisible:!1,highResOnly:c,lowResOnly:d,onError:f,onLoad:p,saved:h,isExperimentalPinRep:v,inVisibilityChangedHookExperiment:O}):Object(s.jsx)(M,{cropHeight:t,rootMargin:g,currentTime:j,inAdsDesktopVideoExperiment:y,isAutoplay:n,viewParameter:u,viewType:l,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:i,surface:r,playing:x,trackFullVisible:!1,highResOnly:c,lowResOnly:d,onError:f,onLoad:p,saved:h,isExperimentalPinRep:v})}}])&&S(t.prototype,n),i&&S(t,i),o}(i.Component);t.a=Object(r.connect)((function(e){return{appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}}}),(function(e){return{pauseAutoplay:function(t){return e(Object(x.a)(t))},setCurrentVideo:function(t){return e(Object(x.c)(t))}}}))(k)},TqAR:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return y})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return m}));var i=n("F2ZA");n("n6mq");function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var a=408,u=16,l=2*(a+u),c=766,s=1.532,d=45,f=function(e){var t=e.article_creator_user,n=e.display_type,r=e.feed_source,o=e.header_pin_id,a=e.id,u=e.title,l=e.video_pin;switch(n){case 0:case 1:return u?Object(i.e)(r,u,a):"";case 8:return null!=t&&t.username?"/".concat(encodeURIComponent(t.username),"/"):"";case 3:case 6:return o?"/pin/".concat(o,"/"):"";case 2:return null!=l&&l.id?"/pin/".concat(l.id,"/"):"";default:return""}},p=function(e){return"todayarticle"===e.type},h=function(e){return"story"===(null==e?void 0:e.type)&&"today_tab_footer"===(null==e?void 0:e.story_type)},y=function(e){return"story"===(null==e?void 0:e.type)&&("today_tab_header"===(null==e?void 0:e.story_type)||"today_tab_date_header"===(null==e?void 0:e.story_type))},b=function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return"story"===e.type}))},v=function(e){var t,n;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(n=e.width)&&void 0!==n?n:1)},g=["736x","236x","170x"],m=function(e){var t,n=r(g);try{for(n.s();!(t=n.n()).done;){var i,o=t.value;if(null!==(i=e.images)&&void 0!==i&&i[o])return e.images[o]}}catch(a){n.e(a)}finally{n.f()}return null}},VJm5:function(e,t,n){"use strict";var i=n("q1tI"),r=n("/MKj"),o=n("T+9/"),a=n("6/Sz"),u=n("rIuN"),l=n("qhFy"),c=n("yweb"),s=n("n6mq"),d=n("yjg8"),f=n("nKUr");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=j(e);if(t){var r=j(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e,t,n){return e||"".concat(t._("carousel image","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed")," ").concat(n)},T=function(e,t,n,i){if(void 0===n||n===t)return i*t*-1;if(0===i)return 0;var r=Math.floor(.5*(n-t));return i===e-1?i*t*-1+2*r:i*t*-1+r},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,i,r=v(a);function a(){var e;h(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return w(m(e=r.call.apply(r,[this].concat(n))),"state",{showBadge:!0}),w(m(e),"renderBadge",(function(){var t=e.props,n=t.carouselData,i=t.isCloseup,r=t.showCarouselBadge;if(!n)return null;var o=e.state.showBadge,a=n.carousel_slots,u=n.index,l=o?.8:0;return!i&&r?Object(f.jsx)(s.f,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginEnd:5,marginTop:5,rounding:2,dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:l,transition:"opacity .3s"}},children:Object(f.jsx)(s.cb,{color:"white",children:"".concat((null!=u?u:0)+1,"/").concat((null!=a?a:[]).length)})}):null})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.hideBadgeTimeout=setTimeout((function(){return e.setState({showBadge:!1})}),3e3)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.state.showBadge,i=e.carouselData,r=this.props.carouselData;if(i&&r){var o=i.index,a=r.index;n&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout((function(){return t.setState({showBadge:!1})}),3e3)),o!==a&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}}},{key:"componentWillUnmount",value:function(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCloseup,i=t.carouselIndex,r=t.closeupHeight,a=t.closeupWidth,c=void 0===a?0:a,p=t.widthRatio,h=void 0===p?1:p,y=t.cropHeight,b=t.cropWidth,v=t.carouselData,g=t.disableTransition,m=t.highResOnly,j=t.lowResOnly,x=t.onError,A=t.onLoad,C=t.pinId,S=t.isEditMode,P=t.isDenseView;if(!v)return null;if(h>1||h<0)throw new Error("widthRatio should be between 0 and 1 inclusive");var E,I=v.carousel_slots,V=void 0===I?[]:I,R=v.index,B=void 0===R?0:R,M=void 0!==i?i:B,k=!n&&b,L=V[M].images;E=n?c:k||(m?474:P?d.g:d.f);var H,D,W=Math.floor(E*h),F=(null==L?void 0:L["236x"])||{},U=y||F.height||0,z=b||F.width||236,q=r||U/z*W,K=(H=V.reduce((function(e,t){var n,i=t.images,r=(null==i?void 0:i["736x"])||(null==i?void 0:i["236x"])||{},o=r.height,a=void 0===o?1:o,u=r.width,l=void 0===u?1:u,c="".concat(l,"x").concat(a),s=(null===(n=e[c])||void 0===n?void 0:n.times)||0;return O(O({},e),{},w({},c,{imageHeight:a,imageWidth:l,times:s+1}))}),{}),D=Object.keys(H).reduce((function(e,t){return H[t].times>e.times?H[t]:e}),{times:-1,imageHeight:-1,imageWidth:-1}),Object.keys(H).length>1?{imageHeight:D.imageHeight,imageWidth:D.imageWidth}:null);return Object(f.jsxs)(s.f,{height:q,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:l.a,children:[!S&&this.renderBadge(),Object(f.jsx)(o.a,{trackCarousel:!0,impressionType:"Pin",loggingId:C,slotIndex:B,viewParameter:72,viewType:1,children:Object(f.jsx)(s.f,{position:"absolute",height:q,width:W,overflow:"hidden"})},"carousel-impression-key-".concat(M)),Object(f.jsx)(s.f,{width:W*V.length,dangerouslySetInlineStyle:{__style:{transition:g?"":"left .3s",left:T(V.length,W,E,M)}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:V.map((function(t,i){if(n){var r=i===V.length-1;return function(e,t){var n=e.pinId,i=e.slot,r=e.slotIndex,o=e.onError,a=e.onLoad,l=e.widthToUse,c=e.gap,d=Object(u.a)(i)||{},p=d.url,h=d.width,y=d.height,b=i.details,v=_(void 0===b?"":b,t,r);return Object(f.jsx)(s.f,{"data-test-id":"carousel-slot-container",width:l,height:"100%",marginEnd:c,children:Object(f.jsx)(s.D,{height:"100%",wash:!0,children:Object(f.jsx)(s.y,{alt:v,fit:"contain",naturalHeight:null!=y?y:1,naturalWidth:null!=h?h:1,onError:o,onLoad:a,src:null!=p?p:""})})},"carousel-slot-".concat(n,"-").concat(r))}({pinId:C,slot:t,slotIndex:i,onError:x,onLoad:A,widthToUse:W,gap:W<E&&!r?1:0},e.props.i18n)}return function(e,t,n,i,r,o,a,u,l,c,d,p,h,y,b){var v,g,m,j,x,O,w,T,A,C,S,P,E=t.images,I=t.details,V=void 0===I?"":I,R=236,B=236,M="";if(r?(R=474,B=E&&Math.min(R/.8,R/((null!==(x=null===(O=E["564x"])||void 0===O?void 0:O.width)&&void 0!==x?x:1)/(null!==(w=null===(T=E["564x"])||void 0===T?void 0:T.height)&&void 0!==w?w:1))),M=E&&(null===(A=E["564x"])||void 0===A?void 0:A.url)):E&&E["736x"]?(B=E&&E["736x"]&&E["736x"].height,R=E&&E["736x"]&&E["736x"].width,M=E&&E["736x"]&&E["736x"].url):E&&E["236x"]&&(B=E&&E["236x"]&&E["236x"].height,R=E&&E["236x"]&&E["236x"].width,M=E&&E["236x"]&&E["236x"].url),h&&y&&(B=Math.min(h*y,null!==(C=B)&&void 0!==C?C:1)),o)j="".concat(null!==(S=null==E||null===(P=E["236x"])||void 0===P?void 0:P.url)&&void 0!==S?S:""," 1x");else if(r){var k,L;j="".concat(null!==(k=null==E||null===(L=E["564x"])||void 0===L?void 0:L.url)&&void 0!==k?k:""," 1x")}else{var H,D,W;j=[(null==E?void 0:E["474x"])&&"".concat(null!==(H=E["474x"].url)&&void 0!==H?H:""," 2x"),(null==E?void 0:E["736x"])&&"".concat(null!==(D=E["736x"].url)&&void 0!==D?D:""," 3x"),(null==E?void 0:E.orig)&&"".concat(null!==(W=E.orig.url)&&void 0!==W?W:""," 4x")].filter(Boolean).join(", ")}var F=_(V,e,i),U=p?void 0:B,z=p?void 0:R,q=b?{boxHeight:null==b?void 0:b.imageHeight,boxWidth:null==b?void 0:b.imageWidth}:{boxHeight:U,boxWidth:z},K=q.boxHeight,N=q.boxWidth;return Object(f.jsx)(s.f,{"data-test-id":"carousel-slot-container",height:K,width:N,children:Object(f.jsx)(s.f,{height:p?d:void 0,width:p||void 0,children:Object(f.jsx)(s.y,{alt:F,fit:p?"cover":"none",naturalHeight:null!==(v=B)&&void 0!==v?v:1,naturalWidth:null!==(g=R)&&void 0!==g?g:1,onError:a,onLoad:u,src:null!==(m=M)&&void 0!==m?m:"",srcSet:j})})},"carousel-slot-".concat(n,"-").concat(i))}(e.props.i18n,t,C,i,m,j,x,A,0,0,y,b,q,W,K)}))})]})}}])&&y(t.prototype,n),i&&y(t,i),a}(i.Component);w(A,"defaultProps",{showCarouselBadge:!0});t.a=Object(r.connect)((function(e,t){var n=e.pins,i=t.pinId,r=t.pin,o=n[i]||r;return{carouselData:Object(a.a)(o,{shouldUnifyImageSizes:!1})}}),(function(){return{}}))((function(e){var t=Object(c.c)();return Object(f.jsx)(A,O(O({},e),{},{i18n:t}))}))},dKiF:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));var r=function(e,t){return e.length===t.length&&e.every((function(e,n){return function(e,t){if("object"===i(e)&&"object"===i(t)){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return e[n]===t[n]}))}return e===t}(e,t[n])}))},o=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return function(n){var i=[];return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];var u=this,l=i.find((function(e){return e.context===u&&t(e.args,o)}));if(l)return l.result;var c={context:u,args:o,result:n.apply(this,o)};return i.push(c),e&&i.length>e&&i.shift(),c.result}}},u=a(1),l=a()},fc1g:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(e){return{type:"MOST_RECENT_PIN",payload:{id:e}}},r=function(e){return{type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}}}},qAg2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("qpbZ");function r(e,t){var n=e.alt_text,r=e.auto_alt_text;return n?Object(i.b)(t._("This contains: {{ altText }}","web.altText","Alt text input by a human"),{altText:n}).join(""):r?Object(i.b)(t._("This may contain: {{ autoAltText }}","web.altText","Alt text generated by a computer"),{autoAltText:r}).join(""):null}},qhFy:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("VJm5"),r=n("TSYQ"),o=n.n(r),a=n("qAg2"),u={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1},l=n("n6mq"),c=n("nKUr");function s(e){var t,n,i,r,o=e.onError,a=e.onLoad,s=e.pin,d=s.title,f=void 0===d?"":d,p=s.dominant_color,h=s.images,y=void 0===h?{}:h,b="".concat(16/9*100,"%"),v="number"==typeof(null===(t=y["474x"])||void 0===t?void 0:t.width)&&"number"==typeof y["474x"].height&&y["474x"].width>y["474x"].height?y["736x"]:y["474x"];return Object(c.jsx)(l.f,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:b}},children:Object(c.jsx)(l.f,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:u.storyPinImage}},children:Object(c.jsx)(l.y,{alt:f,color:p,naturalHeight:null!==(n=null==v?void 0:v.height)&&void 0!==n?n:1,naturalWidth:null!==(i=null==v?void 0:v.width)&&void 0!==i?i:1,onError:o,onLoad:a,src:null!==(r=null==v?void 0:v.url)&&void 0!==r?r:"",fit:"cover"})})})}var d=n("yweb"),f=n("qpbZ"),p=120;t.b=function(e){var t,n,r,u=e.cropHeight,h=e.cropWidth,y=e.fallbackColor,b=e.highResOnly,v=e.imageFit,g=e.lowResOnly,m=e.mediumResOnly,j=e.onError,x=e.onLoad,O=e.pin,w=e.saved,_=void 0!==w&&w,T=e.animateGif,A=Object(d.c)(),C=O.carousel_data,S=O.description,P=void 0===S?"":S,E=O.dominant_color,I=O.id,V=O.images,R=O.title,B=Object(f.b)(A._("This contains an image of: {{ pinTitle }}","web.altText","Alt text input for PinImage by a human"),{pin:R}).join(""),M=Object(a.a)(O,A)||P.trim().length>0&&P||B;if(C)return Object(c.jsx)(i.a,{onError:j,onLoad:x,highResOnly:b,lowResOnly:g,pinId:I});var k,L="",H=0,D=0;if(V){var W,F,U,z,q,K,N,G,Z=V["236x"];if(b?Z=V["736x"]||V.orig||V["474x"]||V["236x"]:m&&(Z=V["474x"]||V.orig||V["236x"]),H=null===(W=Z)||void 0===W?void 0:W.height,D=null===(F=Z)||void 0===F?void 0:F.width,L=null===(U=Z)||void 0===U?void 0:U.url,g||m||b)k=null!==(z=Z)&&void 0!==z&&z.url?"".concat(Z.url," 1x"):"";else k=[(null===(q=V["236x"])||void 0===q?void 0:q.url)&&"".concat(V["236x"].url," 1x"),(null===(K=V["474x"])||void 0===K?void 0:K.url)&&"".concat(V["474x"].url," 2x"),(null===(N=V["736x"])||void 0===N?void 0:N.url)&&"".concat(V["736x"].url," 3x"),(null===(G=V.orig)||void 0===G?void 0:G.url)&&"".concat(V.orig.url," 4x")].filter(Boolean).join(", ")}if(T){var Y=Math.max(O.embed&&O.embed.width||0,236),J=Math.max(O.embed&&O.embed.height||0,236),$=O.embed?O.embed.src:"";$&&(H=J,D=Y,L=$,k="")}return Object(c.jsx)(l.u,{alignItems:"center",justifyContent:"start",minHeight:p,children:Object(c.jsx)(l.f,{flex:"grow",children:Object(c.jsx)("div",{className:o()({savedGradient:_}),children:O.story_pin_data_id?Object(c.jsx)(s,{pin:O,onError:j,onLoad:x}):Object(c.jsx)(l.f,{height:h?u:void 0,width:h||void 0,"data-test-id":"non-story-pin-image",children:Object(c.jsx)(l.y,{alt:M,color:"dominant"===y?E:y,fit:v,naturalHeight:null!==(t=H)&&void 0!==t?t:1,naturalWidth:null!==(n=D)&&void 0!==n?n:1,onError:j,onLoad:x,src:null!==(r=L)&&void 0!==r?r:"",srcSet:k})})})})})}},yjg8:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"k",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"m",(function(){return s})),n.d(t,"p",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"n",(function(){return g}));var i=236,r=2*i/3,o=24,a=2,u=125,l=16,c=14,s=16,d=function(e){return e||s},f=900,p=12,h=16,y=24,b=16,v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?h:p;return e?n:y},g=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c,o=e+r,a=t*o,u=(n+1)*o-1,l="\n@media (min-width: ".concat(a,"px) and (max-width: ").concat(u,"px) {\n  ").concat(i,"\n}\n");return l}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/212-40cee84e26ee3cfafc20.js.map